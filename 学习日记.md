# 学习日记

## 2018.05.24

- 数组截取方法slice（begin,end),包含begin不包含end，没有参数默认0到最后一个
  - 用途：将一个类数组转化为数组
- 选取元素的几种方式
  - document.getElementById 
  -  document.getElementsByClassName 
  - document.getElementsByName 
  -  document.getElementsByTagName 
  -  document.querySelector('选择器')//返回第一个 
  -  document.querySelectorAll('选择器')//返回伪类数组 
- 几种事件
  - click
  - mouseover
  - mouseout
  - focus
  - blur
- 获取标签的文本内容
  - innerText or textContent
- 获取标签的全部内容(包含标签和文本内容)
  - innerHTML
- 获取、设置、移出自定义标签或属性
  - getAttribute('属性名')
  - setAttribute('属性名','属性值')
  - removeAttribute(‘属性名’)
  - 不能直接`标签[属性名]=属性值`,这样设置的属性，只能js访问，在标签中不会显示
- tab切换案例
  - 使用闭包传入索引
- 节点
  - nodeType 节点类型
    - 1-->标签
    - 2-->属性
    - 3-->文本
  - nodeName 节点名字
    - 大写的标签名
    - 小写的属性名
    - 文本节点 #text
  - nodeValue 节点值
    - 标签节点值为null
    - 属性节点的值为属性的值
    - 文本节点的值为文本内容
- element.parentNode
  - 元素的父节点
- element.parentElement
  - 元素的父元素
- element.childNodes
  - 元素的子节点，包括元素的文本节点
- element.children
  - 元素的子元素节点
- element.firstChild
  - 元素的第一个子节点 
  - IE8中是第一个子元素
- element.firstElementChild
  - 元素的第一个子元素
  - IE8中不支持
- element.lastChild
  -  元素的最后一个子节点
  - IE8中是最后一个子元素
- element.lastElementChild
  - 元素的最后一个子元素
  - IE8中不支持
- element.previousSibling
  - 元素的前一个兄弟节点
- element.previousElementSibling
  - 元素的前一个兄弟元素
- element.nextSibling
  - 元素的下一个兄弟节点
- element.nextElementSibling
  - 元素的下一个兄弟元素
- element.getAttributeNode('attribute')
  - 获取元素节点的属性

## 2018.05.25

- 元素的创建方式

  - document.write('标签或文本内容')

  - element.innerHTML='标签或文本'

  - document.createElement('标签名')

    - 创建的标签在添加之前可添加属性

      ```javascript
      let tableObj = document.createElement('table')
      tableObj.border='1'
      tableObj.cellPadding='0'
      tableObj.cellSpacing='0'
      dv.appendChild(tableObj)
      for(let i=0;i<webs.length;i++){
          let tr=document.createElement('tr')
          tableObj.appendChild(tr)
          // 第一列
          let td1=document.createElement('td')
          td1.innerHTML=webs[i].name
          tr.appendChild(td1)
          // 第二列
          let td2=document.createElement('td')
          td2.innerHTML='<a href='+webs[i].href+'>'+webs[i].name+'</a>'
          tr.appendChild(td2)
      }
      ```

      

- 元素的添加

  - element.appendChild(subElement)
    - appendChild 回将subElement 从原本地方删除
    - 添加标签后仍然，可使用标签来添加它的子标签
  - parentElement.insertBefore(newElement,refElement)
    - 插入标签在某标签之前
  - element.replaceChild(element)
    - 替换某标签

- 元素的删除

  - parentElement.removeChild(subElement)

- 克隆节点

  - cloneNode(bool)

- 绑定多个事件

  - addEventListener 可添加多个事件

  ```javascript
  function addEventListener(element,type,fn) {
      //判断浏览器是否支持这个方法
      if(element.addEventListener){
          element.addEventListener(type,fn,false);
      }else if(element.attachEvent){
          element.attachEvent("on"+type,fn);
      }else{
          element["on"+type]=fn;
      }
  }
  
  ```

- 解绑事件

  - element.事件=null
  - removeEventListener
  - detachEvent
  - 用什么方式绑定事件就用对应的解绑方法

  ```javascript
   function removeEventListener(element,type,fnName) {
      if(element.removeEventListener){
        element.removeEventListener(type,fnName,false);
      }else if(element.detachEvent){
        element.detachEvent("on"+type,fnName);
      }else{
        element["on"+type]=null;
      }
    }
  ```

  

- 事件冒泡

  - 阻止冒泡
    -  window.event.cancelBubble=true IE支持其他不支持
    - e.stopPropagation() IE不支持，火狐谷歌支持

- 字符串搜索

  - str.indexOf(substr)
    - 返回子字符串在字符串中第一次出现的为值

  ###BOM

- window

  #### navigator 

- window.navigator.userAgent

- window.navigator.platform

- frames

  #### location

- window.location.href

- window.location.host

- window.location.hostname

- window.location.pathname

- window.loaction.port 

- window.location.protocol

- window.location.search

  ####history

- 三个方法 back forward go

- document

- screen

- 浏览器对话框

  - window.alert
  - window.prompt
  - window.confirm

- window.open(URL,name,features,replace)

- window.close

- 定时器

  - setInterval
  - setTimeout
  - clearInterval
  - clearTimeout

#### offset系列

- offsetWith 元素的宽（含边框）
- offsetHeight 元素的高（含边框）
- offsetTop 元素距离上边的值
- offsetLeft 元素距离左边的值
- 兼容性 offsetTop offsetLeft 
  - IE下相对的是上层父级
  - DOM标准相对的是有定位的父级

#### CSS

- vertical-align

  - inherit

  - 线类

    - baseline(默认值) ,top ,middle,bottom

  - 文本类

    - text-top,text-bottom
    - 

  - 上标下标类

    - sub,super

  - 数值百分比类

    - 支持负值 ，正值相对基线往上
    - 百分比值相对行高计算其值 

  - 起作用前提

    - 只能应用 inline  table-cell inline-block(IE8)
    - 默认状态下的图片 文字 按钮
    - 浮动和绝对定位会改变元素的为block
    - img元素在容器中垂直居中方法：把容器行高设置为容器的高度
    - dispaly:table-cell 只能作用于自身，也就是在本身中设置 vertical-align

  - 多行文本和图片垂直居中

    ```html
    <style>
        .text-list>span{
           /* text-align:justidy;*/
            display:inline-block;
            width:210px
             vertical-align:middle
        }
        .text-list>img{
            vertical-algin:middle
        }
    </style>
    <div calss="test-list">
        <span>文字</span>
        <img src="小公主.jpg">
    </div>
    
    ```

  - 图片的空白

    - line-height 和vertical-align 的默认值 
    - 默认行高1.5 默认基线对齐， 然而空白文本的也是有行高和字高，基线对齐后就产生空白
    - 消灭空白 
      - block 
      - 改为线性对齐
      - 改变变行高为0 或字高为0 

    - 行高设置为容器的高,再设置图片的vertical-align

  - text-align:justify任意数目列表的两端对齐

    ```html
    <style>
        .justify-fix {
            display:inline-block;width:250px;
            /* 优化容器的line-height:0;元素的vertival-top*/
        }
    </style>
    <p style="text-algin:justify;">
    	<img src="img/1.jpg" width="250">
    	<img src="img/1.jpg" width="250">
    	<img src="img/1.jpg" width="250">
    	<img src="img/1.jpg" width="250">
    	<i class="justify-fix"></i>
    	<i class="justify-fix"></i>
    	<i class="justify-fix"></i>	
    ```

    

  - 基线

    - 默认为文字X的下边缘
    - 没有文字就是margin边缘
    - 字符行高设置0 那么基线会在文字中间

- 行高

  - 两行文字基线之间的距离
  - 

- 行框盒子模型

  - content area
  - inline boxes
  - line boxes
  - containing block

## 2018.05.28

- 轮播图
- 公司活动

## 2018.05.29

- 完全轮播图

- scroll 系列

  - scrollWidth:元素内容的实际宽（没有边框,包含隐藏内容），如果没有内容就是元素的宽
  - scrollHeight:元素内容的实际高（没有边框,包含隐藏内容），如果没有内容就是元素的高
  - scrollTop:元素向上卷曲进去的距离
  - scrollLeft:元素向左卷进去的距离

- 滚动事件

  - onscroll

- client系列

  - clientWidth:元素可视部分的宽度，width+padding 不包含边框和滚动条和隐藏的内容
  - clientHeight:元素可视部分的高度，height+padding 不包含边框和滚动条和隐藏的内容
  - clientLeft 左边边框的宽度
  - clenetTop 上面边框的宽度

- 获取窗口尺寸

  - html 标签在脚本中表示为 document.documentElement
  - width=document.documentElement.clientWidth||document.body.clientWidth
  - height=document.documentElement.clientHeight||document.body.clientHeight

- 获取滚动条的位置

  - left：window.pageXoffset||document.documentElement.scrollLeft||document.body.scrollLeft
  - top:window.pageYoffset||document.documentElement.scrollTop||document.body.scrollTop

- 访问css行内样式注意

  - 访问float 用cssFloat

- 使用style 对象

  - getPropertyValue(propertyName) 获取属性的值
  - setProperty(propertyName,value,priority)
  - removeProperty(propertyName)移出属性
  - item(index)返回指定索引的css属性名称
  - getPropertyPriority(propertyName)获取css是否设置了!important

- cssText返回全部

- 获取计算样式

  - getComputedStyle
  - currentStyle
  - window.getComputedStyle? window.getComputedStyle(element,null)[attr]:element.currentStyle[attr];

- 动画函数完整版

  ```javascript
  function getStyle(element, attr) {
      return window.getComputedStyle ? window.getComputedStyle(element, null)[attr] : element.currentStyle[attr] || 0;
    }
  
  
    function animate(element, json, fn) {
      clearInterval(element.timeId);//清理定时器
      //定时器,返回的是定时器的id
      element.timeId = setInterval(function () {
        var flag = true;//默认,假设,全部到达目标
        //遍历json对象中的每个属性还有属性对应的目标值
        for (var attr in json) {
          //判断这个属性attr中是不是opacity
          if (attr == "opacity") {
            //获取元素的当前的透明度,当前的透明度放大100倍
            var current = getStyle(element, attr) * 100;
            //目标的透明度放大100倍
            var target = json[attr] * 100;
            var step = (target - current) / 10;
            step = step > 0 ? Math.ceil(step) : Math.floor(step);
            current += step;//移动后的值
            element.style[attr] = current / 100;
          } else if (attr == "zIndex") { //判断这个属性attr中是不是zIndex
            //层级改变就是直接改变这个属性的值
            element.style[attr] = json[attr];
          } else {
            //普通的属性
            //获取元素这个属性的当前的值
            var current = parseInt(getStyle(element, attr));
            //当前的属性对应的目标值
            var target = json[attr];
            //移动的步数
            var step = (target - current) / 10;
            step = step > 0 ? Math.ceil(step) : Math.floor(step);
            current += step;//移动后的值
            element.style[attr] = current + "px";
          }
          //是否到达目标
          if (current != target) {
            flag = false;
          }
        }
        if (flag) {
          //清理定时器
          clearInterval(element.timeId);
          //所有的属性到达目标才能使用这个函数,前提是用户传入了这个函数
          if (fn) {
            fn();
          }
        }
        //测试代码
        console.log("目标:" + target + ",当前:" + current + ",每次的移动步数:" + step);
      }, 20);
    }
  ```

##2018.05.30

- 鼠标在页面的绝对位置

  ```javascript
  function getMP(e){
      const e||window.event
      return {
          x:e.pageX||e.clientX(document.documentElement.scrollLeft||document.body.scrollLeft),
          y:e.pageY||e.clientY+(document.documentElement.scrollTop||document.body.scrollTop)
      }
  ```

  

- 鼠标事件

  - clientX 设置或获取鼠标指针位置相对于当前窗口的 x 坐标，其中客户区域不包括窗口自身的控件和滚动条。 
  -  clientY 设置或获取鼠标指针位置相对于当前窗口的 y 坐标，其中客户区域不包括窗口自身的控件和滚动条。 
  -  offsetX 设置或获取鼠标指针位置相对于触发事件的对象的 x 坐标。 
  -  offsetY 设置或获取鼠标指针位置相对于触发事件的对象的 y 坐标。  
  - screenX 设置或获取获取鼠标指针位置相对于用户屏幕的 x 坐标。  
  - screenY 设置或获取鼠标指针位置相对于用户屏幕的 y 坐标。  x 设置或获取鼠标指针位置相对于父文档的 x 像素坐标(亦即相对于当前窗口)。  y 设置或获取鼠标指针位置相对于父文档的 y 像素坐标(亦即相对于当前窗口)。 

- 鼠标在元素内的位置

  ```
  function getME(e,o){
      var e=e||window.event
      return {
          x:e.offsetX||(e.layerX-o.offsetLeft)
          y:e.offsetY||(e.layerX-o.offsetTop)
      }
  }
  ```

  

- 鼠标相关兼容性

  ```javascript
  var evt={
      //window.event和事件参数对象e的兼容
      getEvent:function (evt) {
        return window.event||evt;
      },
      //可视区域的横坐标的兼容代码
      getClientX:function (evt) {
        return this.getEvent(evt).clientX;
      },
      //可视区域的纵坐标的兼容代码
      getClientY:function (evt) {
        return this.getEvent(evt).clientY;
      },
      //页面向左卷曲出去的横坐标
      getScrollLeft:function () {
        return window.pageXOffset||document.body.scrollLeft||document.documentElement.scrollLeft||0;
      },
      //页面向上卷曲出去的纵坐标
      getScrollTop:function () {
        return window.pageYOffset||document.body.scrollTop||document.documentElement.scrollTop||0;
      },
      //相对于页面的横坐标(pageX或者是clientX+scrollLeft)
      getPageX:function (evt) {
        return this.getEvent(evt).pageX? this.getEvent(evt).pageX:this.getClientX(evt)+this.getScrollLeft();
      },
      //相对于页面的纵坐标(pageY或者是clientY+scrollTop)
      getPageY:function (evt) {
        return this.getEvent(evt).pageY?this.getEvent(evt).pageY:this.getClientY(evt)+this.getScrollTop();
      }
  
  
  
    };
  ```

- 完成汽摩商城手机端首页布局

##2018.05.31

- 流式布局（百分比布局，非固定像素）
- viewport 视口
  - 浏览器承载视口，视口承载网页
  - 在移动端浏览器，视口宽度=网页宽度，为了把视口完全装在浏览器中，就会自动缩放。
- 移动端适配要求
  1. 网页宽度必须与浏览器保持一致
  2. 默认显示的缩放比例和pc端保持一致（缩放比例为1.0）
  3. 不允许用户自行缩放网页
- 适配设置
  - 没有任何设置，默认为viewport默认设置
  - viewport 功能
    - width设置宽度(device-width)
    - height设置高度
    - initial-scale设置缩放比例
    - user-scale设置是否允许用户自动缩放(yes,no,1,0)
    - maximum-scale设置最大放大比例(0~1)
    - minimum-scale设置最大缩小比例(0~1)
  - 开发设置
    - <meta name="viewport" content="width=device-width,initial-scale=1.0",user-scalable=no,maximum=1.0,minimum-scale=1.0>
  - 非主流适配
    - 页面的真实尺寸比设备上的尺寸大几倍
    - 缩放的倍数为1/dpr（设备物理像素/分辨率）
      - 分辨率可看做人为设定一块屏幕上的像素个数
      - 物理像素为显示屏上显示最小点的个数
    - dpr越高非矢量的内容会变模糊，所以移动端的psd图一般为2X图，切图后图片宽高设置为实际的一半
- 移动端reset css
  - -webkit-tap-highlight-color:transparent 点击透明
  - \*，\*::after,\*::before{margin:0;padding:0;box-sizing:border-box}
- fixed 
  - 宽度基于body
  - 所以要在fixed子盒子中写内容并居中

## 2018.06.01

- 组合样式布局

- 响应式布局

  - 设备分类
    - <768px 超小屏设备
    - 768px - 992px 小屏设备
    - 992px -1200px 中屏设备
    - 1200px 以上 宽屏设备

- 响应式容器

  - 超小屏设备，容器宽度为100%设备
  - 小屏设备下，容器宽度为750px
  - 中屏设备下，容器宽度为970px
  - 大屏设备下，容器宽度为1170px

- 媒体查询 @media

  ```javascript
  @media screen and (max-width:768px) and(min-width:320px) {
      
  }
  ```

- PS新建图层

  - 选中图层，画选区 ，复制 粘贴 ctr+N 新建图层
  -  ctr+t旋转图 ，shift 15度旋转

- Bootstrap框架-- 响应式UI框架

  - 基本模板
    - 引入bootstrap.css
    - 引入htmlshiv.js
    - 引入 respond.js
    - 引入jquery.js
    - 引入bootstrap.js
  - normailize reset 区别
    - normalize 不会重置本身在浏览器表现一直的样式，例如ul的list-style:none;
  - 栅格系统
    - container 响应式容器 默认有左右15px的内边距
    - container-fluid 流式布局容器
    - row行容器 默认有左右-15的margin值
    - col-\*-\* 设置行样式 lg md sm xs
    - 一行超过12份自动换行，可同时设置不同的行样式
    - 可以嵌套（可再写row)
    - col-\*-offset-\*列偏移 col-lg-offset-1 
    - col-\*-pull-\* 拉几个位置 col-lg-pull-1
    - col-\*-push-\* 拉几个位置 col-lg-push-1
  - 响应式工具 -显示与隐藏
    - visible-\*-\*
    - hidden-\*-\*
  - css选择非第一个
    - div+div
    - div~div

## 2018.06.02

- window.onscroll 滚动事件

- touch 移动端触摸事件

  - touchstart 手指触摸屏幕售后触发
  - touchmove 手指在屏幕来回滑动时候触发
  - touchend 手指离开屏幕时候触发
  - touchcancel 当被迫终止的时候触发

- 绑定事件

  - addEventListener('event',function)

- touch事件对象

  - TouchList 触摸点的集合（一个手指触摸就是一个触摸点）和屏幕接触点的集合
  - changedtouches  改变后的触摸点的集合
  - targetTouches 当前触摸元素的触摸点的集合
  - touches 页面上所有触摸点的集合
  - clientX clientY基于浏览器窗口（视口）
  - pageX PageY 基于页面（视口）
  - screenX screenY 屏幕页面


## 2018.06.04 

- 完成移动端无缝滑动

## 2018.06.05

- 完成分类页面

## 全屏滚动

- window.onmouseswheel
- fullpage.js fullpage.css 
- fullpage 配置参数
  - sectionsColor:[]设置每一屏的颜色
  - verticalCentered:true or false 修改内容是否垂直居中
  - navigation true or false 是否显示导航（指示器）
  - 
- 内容用绝对定位
- 动画
  - js动画  帧动画，利用定时器
  - css3动画 补间动画 过渡动画（加过渡后只要状态发生改变就能动画） 动画（多个节点控制动画）性能更好 ，在能使用css3动画就使用，但兼容不好

